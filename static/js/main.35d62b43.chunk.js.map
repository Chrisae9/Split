{"version":3,"sources":["components/TopPage.js","components/ReceiptName.js","components/ReceiptContributors.js","components/ReceiptTable.js","components/SplitReceipt.js","components/ReceiptContributorModal.js","components/LoginHooks.js","components/LogoutHooks.js","components/ReceiptSelect.js","utils/refreshToken.js","App.js","reportWebVitals.js","index.js"],"names":["TopPage","className","ReceiptName","props","Form","Group","controlId","Control","value","type","onChange","event","target","placeholder","ReceiptContributors","contributors","setContributors","dispatch","useState","contributor","setContributor","inputContributorRef","useRef","rowEvents","onClick","e","row","rowIndex","prevContributor","filter","p","id","ACTIONS","REMOVE_CONTRIBUTOR","payload","Card","Body","onSubmit","preventDefault","prevContributors","UUID","name","current","focus","ref","Button","variant","keyField","data","columns","dataField","hidden","text","hover","condensed","ReceiptTable","items","formatter","cell","col","colIndex","map","contrib","i","length","setName","cost","setCost","total","setTotal","inputNameRef","DELETE_ITEM","useEffect","forEach","element","parseFloat","selectRow","mode","onSelect","isSelect","TOGGLE_ITEM","onSelectAll","rows","TOGGLE_ITEMS","selected","striped","toFixed","ADD_ITEM","allowDecimals","decimalsLimit","prefix","SplitReceipt","show","setShow","handleClose","Modal","onHide","size","Header","closeButton","Title","Text","ListGroup","item","includes","splitCost","ListGroupItem","Footer","remaining","getRemaining","ReceiptContributorModal","handleContributor","setMode","ADD_CONTRIBUTOR","headerAttrs","Row","Col","DELETE_CONTRIBUTOR","LoginHooks","onSuccess","signIn","useGoogleLogin","onFailure","res","console","log","clientId","process","isSignedIn","accessType","src","alt","LogoutHooks","setSignedIn","signOut","useGoogleLogout","onLogoutSuccess","window","location","reload","ReceiptSelect","receipts","signedIn","onSave","onDelete","options","setOptions","receipt","_id","label","getOptions","selection","SET_ITEMS","reducer","action","concat","App","googleId","setGoogleId","receiptId","setReceiptId","useReducer","setReceipts","owner","a","fetch","headers","then","json","alert","method","body","JSON","stringify","response","catch","error","getAllReceipts","refreshTiming","tokenObj","expires_in","refreshToken","reloadAuthResponse","newAuthRes","localStorage","setItem","id_token","setTimeout","refreshTokenSetup","status","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.35d62b43.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function TopPage() {\n  return (\n    <div>\n      <h1 className=\"text-center\">Split</h1>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Form } from \"react-bootstrap\";\n\nexport default function ReceiptName(props) {\n  return (\n    <>\n      {/* Receipt Name */}\n      <Form>\n        <Form.Group controlId=\"receiptName\">\n          <Form.Control\n            value={props.value}\n            type=\"text\"\n            onChange={(event) => props.onChange(event.target.value)}\n            placeholder=\"Receipt Name\"\n          />\n        </Form.Group>\n      </Form>\n    </>\n  );\n}\n","import { React, useState, useRef } from \"react\";\nimport { Form, Button, Card } from \"react-bootstrap\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { v4 as UUID } from \"uuid\";\nimport { ACTIONS } from \"../App\";\n\nexport default function ReceiptContributors({\n  contributors,\n  setContributors,\n  dispatch,\n}) {\n  const columns = [\n    {\n      dataField: \"id\",\n      hidden: true,\n    },\n    {\n      dataField: \"name\",\n      text: \"Contributors List\",\n      // sort: true,\n    },\n  ];\n\n  const [contributor, setContributor] = useState(\"\");\n  const inputContributorRef = useRef();\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    // Add to the start of contributors\n    setContributors(\n      (prevContributors) =>\n        (prevContributors = [\n          { id: UUID(), name: contributor },\n          ...prevContributors,\n        ])\n    );\n    setContributor(\"\");\n    inputContributorRef.current.focus();\n  }\n\n  // Click to delete Contributor\n  const rowEvents = {\n    // make sure to remove contributor from items\n    onClick: (e, row, rowIndex) => {\n      setContributors((prevContributor) =>\n        prevContributor.filter((p) => p.id !== row.id)\n      );\n      dispatch({\n        type: ACTIONS.REMOVE_CONTRIBUTOR,\n        payload: { contributor: row },\n      });\n    },\n  };\n\n  return (\n    <>\n      {/* Receipt Contributor */}\n      <Form.Group>\n        <Card>\n          <Card.Body>\n            <Form onSubmit={handleSubmit}>\n              <Form.Group controlId=\"receiptContributor\">\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Contributor\"\n                  value={contributor}\n                  ref={inputContributorRef}\n                  onChange={(e) => setContributor(e.target.value)}\n                />\n              </Form.Group>\n              <Form.Group controlId=\"receiptAddContributor\">\n                {/* Contributor Add */}\n                <Button type=\"submit\" variant=\"dark\" className=\"form-control\">\n                  Add\n                </Button>\n              </Form.Group>\n            </Form>\n          </Card.Body>\n        </Card>\n      </Form.Group>\n\n      {/* Contributors  */}\n      <BootstrapTable\n        keyField=\"id\"\n        data={contributors}\n        columns={columns}\n        rowEvents={rowEvents}\n        hover\n        condensed\n      />\n    </>\n  );\n}\n","import { React, useState, useRef, useEffect } from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { Card, Form, Button } from \"react-bootstrap\";\nimport CurrencyInput from \"react-currency-input-field\";\nimport { ACTIONS } from \"../App.js\";\n\nexport default function ReceiptTable({ items, dispatch }) {\n  // Datafeilds for the receipt table\n  const columns = [\n    {\n      dataField: \"id\",\n      hidden: true,\n    },\n    {\n      dataField: \"name\",\n      text: \"Name\",\n      // sort: true,\n    },\n    {\n      dataField: \"cost\",\n      text: \"Cost\",\n      // sort: true,\n      formatter: (cell, row) => {\n        return <>${cell}</>;\n      },\n    },\n    {\n      dataField: \"selected\",\n      text: \"Selected\",\n      hidden: true,\n    },\n    {\n      dataField: \"contributors\",\n      text: \"Contributors \",\n      formatter: contributorsFormatter,\n    },\n  ];\n\n  // Formatter for the contributors column\n  function contributorsFormatter(col, colIndex) {\n    var string = col.map((contrib, i) => {\n      if (i < col.length - 1) {\n        return contrib.name + \", \";\n      } else {\n        return contrib.name;\n      }\n    });\n\n    return string;\n  }\n\n  const [name, setName] = useState(\"\");\n  const [cost, setCost] = useState(\"\");\n  const [total, setTotal] = useState(\"\");\n\n  const inputNameRef = useRef();\n\n  // Click to delete item\n  const rowEvents = {\n    onClick: (e, row, rowIndex) => {\n      dispatch({ type: ACTIONS.DELETE_ITEM, payload: { id: row.id } });\n    },\n  };\n\n  // Submit form action\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    // Add to the start of items\n    dispatch({\n      type: ACTIONS.ADD_ITEM,\n      payload: {\n        name: name,\n        cost: cost,\n      },\n    });\n    // Reset fields and focus item name\n    setName(\"\");\n    inputNameRef.current.focus();\n    setCost(\"\");\n  }\n\n  useEffect(() => {\n    // Computes the total cost, ugly but works for now.\n    var total = 0;\n    items.forEach((element) => {\n      total = total + (parseFloat(element.cost) || 0);\n    });\n    setTotal(total);\n  }, [items]);\n\n  // React bootstrap table select row feature\n  const selectRow = {\n    mode: \"checkbox\",\n    onSelect: (row, isSelect, rowIndex, e) => {\n      dispatch({ type: ACTIONS.TOGGLE_ITEM, payload: { id: row.id } });\n    },\n    onSelectAll: (isSelect, rows, e) => {\n      dispatch({ type: ACTIONS.TOGGLE_ITEMS, payload: { selected: isSelect } });\n    },\n  };\n\n  return (\n    <>\n      {/* Table to display items */}\n      <BootstrapTable\n        keyField=\"id\"\n        data={items}\n        columns={columns}\n        rowEvents={rowEvents}\n        selectRow={selectRow}\n        striped\n        hover\n        condensed\n      />\n\n      {/* Total cost of the items */}\n      <h4>Total = ${parseFloat(total).toFixed(2)}</h4>\n      <Form.Group>\n        <Card>\n          <Card.Body>\n            {/* Form to submit the items */}\n            <Form onSubmit={handleSubmit}>\n              {/* Name of the Item */}\n              <Form.Group controlId=\"itemName\">\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Item\"\n                  value={name}\n                  ref={inputNameRef}\n                  onChange={(e) => setName(e.target.value)}\n                />\n              </Form.Group>\n              {/* Cost of the item */}\n              <Form.Group controlId=\"itemCost\">\n                <CurrencyInput\n                  placeholder=\"$0.00\"\n                  allowDecimals={true}\n                  decimalsLimit={2}\n                  prefix=\"$\"\n                  className=\"form-control\"\n                  value={cost}\n                  onChange={(value) => setCost(value)}\n                />\n              </Form.Group>\n\n              {/* Button to add the item to the table */}\n              <Form.Group controlId=\"formSubmit\">\n                <Button type=\"submit\" variant=\"dark\" className=\"form-control\">\n                  Add Item\n                </Button>\n              </Form.Group>\n            </Form>\n          </Card.Body>\n        </Card>\n      </Form.Group>\n    </>\n  );\n}\n","import { React, useState } from \"react\";\nimport {\n  Button,\n  Modal,\n  Card,\n  ListGroup,\n  ListGroupItem,\n  Form,\n} from \"react-bootstrap\";\n\nexport default function SplitReceipt({ contributors, items }) {\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  function handleSplit() {\n    setShow(true);\n  }\n\n  function getBill() {\n    return contributors.map((contributor) => {\n      var total = 0;\n      return (\n        <Form.Group>\n          <Card>\n            <Card.Body>\n              <Card.Title>{contributor.name}</Card.Title>\n              <Card.Text>\n                <ListGroup>\n                  {items.map((item) => {\n                    if (item.contributors.includes(contributor)) {\n                      var splitCost =\n                        parseFloat(item.cost) / item.contributors.length;\n                      total = total + splitCost;\n                      return (\n                        <ListGroupItem key={item.id}>\n                          {item.name}: ${splitCost.toFixed(2)}\n                        </ListGroupItem>\n                      );\n                    }\n                  })}\n                </ListGroup>\n              </Card.Text>\n            </Card.Body>\n            <Card.Footer>${total.toFixed(2)}</Card.Footer>\n          </Card>\n        </Form.Group>\n      );\n    });\n  }\n\n  function getRemaining() {\n    var remaining = 0;\n    return (\n      <Card>\n        <Card.Body>\n          <Card.Title>Remaining</Card.Title>\n          <Card.Text>\n            <ListGroup>\n              {items.map((item) => {\n                if (item.contributors.length === 0) {\n                  remaining = remaining + parseFloat(item.cost);\n                  return (\n                    <ListGroupItem key={item.id}>\n                      {item.name}: ${item.cost}\n                    </ListGroupItem>\n                  );\n                }\n              })}\n            </ListGroup>\n          </Card.Text>\n        </Card.Body>\n        <Card.Footer>${remaining.toFixed(2)}</Card.Footer>\n      </Card>\n    );\n  }\n\n  //TODO Remaining Cost\n\n  return (\n    <>\n      <Form.Group>\n        {/* Split Receipt Button */}\n        <Button\n          variant=\"secondary\"\n          onClick={() => handleSplit()}\n          className=\"form-control\"\n        >\n          Split\n        </Button>\n      </Form.Group>\n\n      {/* Modal Pop-up window */}\n      <Modal show={show} onHide={handleClose} size=\"lg\">\n        <Modal.Header closeButton>\n          <Modal.Title>Split Bill </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {getBill()}\n          {getRemaining()}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Done\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n","import { React, useState } from \"react\";\nimport { Form, Button, Modal, Col } from \"react-bootstrap\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { ACTIONS } from \"../App\";\n\nexport default function ReceiptContributorModal({ contributors, dispatch }) {\n  const columns = [\n    {\n      dataField: \"id\",\n      hidden: true,\n    },\n    {\n      dataField: \"name\",\n      text: \"Name\",\n      headerAttrs: {\n        hidden: true,\n      },\n    },\n  ];\n\n  function handleContributor(mode) {\n    setMode(mode);\n    setShow(true);\n  }\n\n  const [show, setShow] = useState(false);\n  const [mode, setMode] = useState(ACTIONS.ADD_CONTRIBUTOR);\n\n  const handleClose = () => setShow(false);\n\n  const rowEvents = {\n    onClick: (e, row, rowIndex) => {\n      dispatch({\n        type: mode,\n        payload: { contributor: row },\n      });\n      handleClose();\n    },\n  };\n\n  return (\n    <>\n      {/* Modal Pop-up window */}\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Select Contributor </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <BootstrapTable\n            keyField=\"id\"\n            data={contributors}\n            columns={columns}\n            rowEvents={rowEvents}\n            hover\n            condensed\n          />\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n      <Form>\n        <Form.Group>\n          <Form.Row>\n            <Col>\n              {/* Add contributor button */}\n              <Button\n                onClick={() => handleContributor(ACTIONS.ADD_CONTRIBUTOR)}\n                variant=\"secondary\"\n                className=\"form-control\"\n              >\n                Assign\n              </Button>\n            </Col>\n\n            <Col>\n              {/* Delete contributor button */}\n              <Button\n                onClick={() => handleContributor(ACTIONS.DELETE_CONTRIBUTOR)}\n                variant=\"danger\"\n                className=\"form-control\"\n              >\n                Remove\n              </Button>\n            </Col>\n          </Form.Row>\n        </Form.Group>\n      </Form>\n    </>\n  );\n}\n","import { Button } from \"react-bootstrap\";\nimport React from \"react\";\nimport { useGoogleLogin } from \"react-google-login\";\n\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\n\nfunction LoginHooks({ onSuccess }) {\n  const onFailure = (res) => {\n    console.log(\"Login failed: res:\", res);\n    // alert(`Failed to login.`);\n  };\n\n  const { signIn } = useGoogleLogin({\n    onSuccess,\n    onFailure,\n    clientId,\n    isSignedIn: true,\n    accessType: \"offline\",\n    // responseType: 'code',\n    // prompt: 'consent',\n  });\n\n  return (\n    <Button\n      onClick={signIn}\n      variant=\"outline-dark\"\n      size=\"sm\"\n      className=\"form-control\"\n    >\n      <img\n        src={process.env.PUBLIC_URL + \"/google.svg\"}\n        alt=\"google login\"\n        className=\"icon\"\n      ></img>\n      Sign in with Google\n    </Button>\n  );\n}\n\nexport default LoginHooks;\n","import React from \"react\";\nimport { useGoogleLogout } from \"react-google-login\";\nimport { Button } from \"react-bootstrap\";\n\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\n\nfunction LogoutHooks({ setSignedIn }) {\n  function onLogoutSuccess(res) {\n    window.location.reload(false);\n    console.log(\"Successfully logged out\");\n    setSignedIn(false);\n  }\n\n  const onFailure = () => {\n    console.log(\"Handle failure cases\");\n  };\n\n  const { signOut } = useGoogleLogout({\n    clientId,\n    onLogoutSuccess,\n    onFailure,\n  });\n\n  return (\n    <Button\n      onClick={signOut}\n      variant=\"outline-dark\"\n      size=\"sm\"\n      className=\"form-control\"\n    >\n      <img\n        src={process.env.PUBLIC_URL + \"/google.svg\"}\n        alt=\"google login\"\n        className=\"icon\"\n      ></img>\n      Sign out\n    </Button>\n  );\n}\n\nexport default LogoutHooks;\n","import { React, useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { Form, Col, Button } from \"react-bootstrap\";\n\nexport default function ReceiptSelect({\n  receipts,\n  signedIn,\n  onSave,\n  onDelete,\n  onSelect,\n}) {\n  const [options, setOptions] = useState([]);\n\n  useEffect(() => {\n    console.log(receipts);\n    if (signedIn) {\n      getOptions(receipts);\n    } else {\n      setOptions();\n    }\n  }, [receipts]);\n\n  function getOptions(receipts) {\n    setOptions(\n      receipts.map((receipt) => {\n        console.log(receipt.name);\n        return { value: receipt._id, label: receipt.name };\n      })\n    );\n  }\n\n  return (\n    <>\n      <Form>\n        <Form.Group>\n          <Select\n            options={options}\n            onChange={(selection) => onSelect(selection)}\n            placeholder=\"Select a Receipt\"\n          />\n        </Form.Group>\n      </Form>\n\n      {/* Receipt Save & Delete */}\n      <Form.Group>\n        <Form.Row>\n          <Col>\n            {/* Add contributor button */}\n            <Button\n              type=\"submit\"\n              // onClick={() => handleContributor(ACTIONS.ADD_CONTRIBUTOR)}\n              variant=\"secondary\"\n              className=\"form-control\"\n              onClick={onSave}\n            >\n              Save\n            </Button>\n          </Col>\n\n          <Col>\n            {/* Delete contributor button */}\n            <Button\n              type=\"submit\"\n              // onClick={() => handleContributor(ACTIONS.DELETE_CONTRIBUTOR)}\n              variant=\"danger\"\n              className=\"form-control\"\n              onClick={onDelete}\n            >\n              Delete\n            </Button>\n          </Col>\n        </Form.Row>\n      </Form.Group>\n    </>\n  );\n}\n","export const refreshTokenSetup = (res) => {\n  // Timing to renew access token\n  let refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\n\n  const refreshToken = async () => {\n    const newAuthRes = await res.reloadAuthResponse();\n    refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\n    console.log(\"newAuthRes:\", newAuthRes);\n    // saveUserToken(newAuthRes.access_token);  <-- save new token\n    localStorage.setItem(\"authToken\", newAuthRes.id_token);\n\n    // Setup the other timer after the first one\n    setTimeout(refreshToken, refreshTiming);\n  };\n\n  // Setup first refresh timer\n  setTimeout(refreshToken, refreshTiming);\n};\n","import \"./App.css\";\nimport { React, useState, useReducer } from \"react\";\nimport TopPage from \"./components/TopPage\";\nimport ReceiptName from \"./components/ReceiptName\";\nimport ReceiptContributors from \"./components/ReceiptContributors\";\nimport ReceiptTable from \"./components/ReceiptTable\";\nimport SplitReceipt from \"./components/SplitReceipt\";\nimport { Card, Form } from \"react-bootstrap\";\nimport { v4 as UUID } from \"uuid\";\nimport ReceiptContributorModal from \"./components/ReceiptContributorModal\";\nimport LoginHooks from \"./components/LoginHooks\";\nimport LogoutHooks from \"./components/LogoutHooks\";\nimport ReceiptSelect from \"./components/ReceiptSelect\";\nimport { refreshTokenSetup } from \"./utils/refreshToken\";\n\nexport const ACTIONS = {\n  ADD_ITEM: \"add-item\",\n  DELETE_ITEM: \"delete-item\",\n  TOGGLE_ITEM: \"toggle-item\",\n  TOGGLE_ITEMS: \"toggle-items\",\n  ADD_CONTRIBUTOR: \"add-contributor\",\n  DELETE_CONTRIBUTOR: \"delete-contributor\",\n  REMOVE_CONTRIBUTOR: \"remove-contributor\",\n  SET_ITEMS: \"set-items\",\n};\n\nfunction reducer(items, action) {\n  switch (action.type) {\n    case ACTIONS.ADD_ITEM:\n      return [...items, newItem(action.payload.name, action.payload.cost)];\n    case ACTIONS.TOGGLE_ITEM:\n      return items.map((item) => {\n        if (item.id === action.payload.id) {\n          return { ...item, selected: !item.selected };\n        }\n        return item;\n      });\n    case ACTIONS.TOGGLE_ITEMS:\n      return items.map((item) => {\n        return { ...item, selected: action.payload.selected };\n      });\n    case ACTIONS.DELETE_ITEM:\n      return items.filter((item) => item.id !== action.payload.id);\n    case ACTIONS.ADD_CONTRIBUTOR:\n      return items.map((item) => {\n        if (\n          item.selected &&\n          !item.contributors.includes(action.payload.contributor)\n        ) {\n          return {\n            ...item,\n            contributors: item.contributors.concat(action.payload.contributor),\n          };\n        }\n        return item;\n      });\n    // TODO: Reference contributors ONLY by ID\n    case ACTIONS.REMOVE_CONTRIBUTOR:\n      return items.map((item) => {\n        if (item.contributors.includes(action.payload.contributor)) {\n          return {\n            ...item,\n            contributors: item.contributors.filter(\n              (contributor) => contributor !== action.payload.contributor\n            ),\n          };\n        }\n        return item;\n      });\n    case ACTIONS.DELETE_CONTRIBUTOR:\n      return items.map((item) => {\n        if (\n          item.selected &&\n          item.contributors.includes(action.payload.contributor)\n        ) {\n          return {\n            ...item,\n            contributors: item.contributors.filter(\n              (contributor) => contributor !== action.payload.contributor\n            ),\n          };\n        }\n        return item;\n      });\n    case ACTIONS.SET_ITEMS:\n      return action.payload.items;\n    default:\n      return items;\n  }\n}\n\nfunction newItem(name, cost) {\n  return {\n    id: UUID(),\n    name: name,\n    cost: cost,\n    selected: false,\n    contributors: [],\n  };\n}\n\nfunction App() {\n  const [googleId, setGoogleId] = useState(\"\");\n  const [receiptId, setReceiptId] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [items, dispatch] = useReducer(reducer, []);\n  const [contributors, setContributors] = useState([]);\n\n  const [receipts, setReceipts] = useState([]);\n\n  const [signedIn, setSignedIn] = useState(false);\n\n  async function getAllReceipts(owner) {\n    await fetch(`${process.env.REACT_APP_SERVER}/receipts/${owner}`, {\n      mode: \"cors\",\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\n    })\n      .then((res) => res.json())\n      .then((json) => setReceipts(json));\n  }\n\n  // On successful login\n  function onSuccess(res) {\n    setGoogleId(() => res.googleId);\n    getAllReceipts(res.googleId);\n    setSignedIn(() => true);\n    console.log(`Successfully logged in, your google id is ${res.googleId}`);\n    refreshTokenSetup(res);\n  }\n\n  // Save button clicked\n  async function onSave() {\n    // Not logged in\n    if (googleId === \"\") {\n      alert(\"Please Login\");\n      return;\n    }\n\n    var data = {\n      owner: googleId,\n      _id: receiptId,\n      name: name,\n      items: items,\n      contributors: contributors,\n    };\n\n    // Receipt already exists, update it\n    if (receiptId !== \"\") {\n      await fetch(\n        `${process.env.REACT_APP_SERVER}/receipts/${googleId}/${receiptId}`,\n        {\n          mode: \"cors\",\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Access-Control-Allow-Origin\": \"*\",\n          },\n          body: JSON.stringify(data),\n        }\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"Success:\", data);\n        })\n        .catch((error) => {\n          console.error(\"Error:\", error);\n        });\n    } else {\n      // Receipt doesn't exist, create a new one\n      data._id = UUID();\n      setReceiptId(data._id);\n\n      // Upload receipt\n      await fetch(`${process.env.REACT_APP_SERVER}/receipts/`, {\n        mode: \"cors\",\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\",\n        },\n        body: JSON.stringify(data),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"Success:\", data);\n        })\n        .catch((error) => {\n          console.error(\"Error:\", error);\n        });\n    }\n    window.location.reload(false);\n  }\n\n  async function onDelete() {\n    if (googleId === \"\") {\n      alert(\"Please Login\");\n      return;\n    }\n    if (receiptId === \"\") {\n      console.log(\"No receipt exists, reloading page\");\n    } else {\n      await fetch(\n        `${process.env.REACT_APP_SERVER}/receipts/${googleId}/${receiptId}`,\n        {\n          mode: \"cors\",\n          method: \"DELETE\",\n          headers: { \"Access-Control-Allow-Origin\": \"*\" },\n        }\n      )\n        .then((res) => res.json()) // or res.text()\n        .then((res) => console.log(res));\n    }\n\n    window.location.reload(false);\n  }\n\n  async function onSelect(selection) {\n    if (googleId === \"\") {\n      alert(\"Please Login\");\n      return;\n    }\n    setReceiptId(selection.value);\n\n    await fetch(\n      `${process.env.REACT_APP_SERVER}/receipts/${googleId}/${selection.value}`,\n      { mode: \"cors\", headers: { \"Access-Control-Allow-Origin\": \"*\" } }\n    )\n      .then((res) => res.json())\n      .then((json) => {\n        setName(json.name);\n        dispatch({ type: ACTIONS.SET_ITEMS, payload: { items: json.items } });\n        setContributors(json.contributors);\n      });\n  }\n\n  return (\n    <div className=\"App-header\">\n      <TopPage />\n      <Card className=\"col-11 mx-auto\">\n        <Card.Body>\n          <Form.Group>\n            {!signedIn && <LoginHooks onSuccess={onSuccess} />}\n            {signedIn && (\n              <LogoutHooks setSignedIn={(status) => setSignedIn(status)} />\n            )}\n          </Form.Group>\n\n          <ReceiptSelect\n            receipts={receipts}\n            signedIn={signedIn}\n            onSave={onSave}\n            onDelete={onDelete}\n            onSelect={onSelect}\n          />\n          <ReceiptName value={name} onChange={(name) => setName(name)} />\n          <ReceiptContributors\n            contributors={contributors}\n            setContributors={(contributors) => setContributors(contributors)}\n            dispatch={dispatch}\n          />\n          <ReceiptContributorModal\n            contributors={contributors}\n            dispatch={dispatch}\n          />\n          <ReceiptTable items={items} dispatch={dispatch} />\n\n          <SplitReceipt contributors={contributors} items={items} />\n        </Card.Body>\n      </Card>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}