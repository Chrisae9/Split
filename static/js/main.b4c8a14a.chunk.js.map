{"version":3,"sources":["components/TopPage.js","components/ReceiptName.js","components/ReceiptContributors.js","components/ReceiptTable.js","components/SplitReceipt.js","components/ReceiptContributorModal.js","components/LoginHooks.js","components/LogoutHooks.js","components/ReceiptSelect.js","utils/refreshToken.js","App.js","reportWebVitals.js","index.js"],"names":["TopPage","className","ReceiptName","name","setName","Form","Group","controlId","Control","value","type","onChange","event","target","placeholder","ReceiptContributors","contributors","setContributors","dispatch","useState","contributor","setContributor","inputContributorRef","useRef","rowEvents","onClick","e","row","rowIndex","prevContributor","filter","p","ACTIONS","REMOVE_CONTRIBUTOR","payload","Card","Body","onSubmit","preventDefault","hasElement","map","c","alert","prevContributors","current","focus","ref","Button","variant","keyField","data","columns","dataField","hidden","text","hover","condensed","ReceiptTable","items","formatter","cell","col","colIndex","contrib","i","length","cost","setCost","total","setTotal","inputNameRef","DELETE_ITEM","id","_id","useEffect","forEach","element","parseFloat","selectRow","mode","onSelect","isSelect","TOGGLE_ITEM","onSelectAll","rows","TOGGLE_ITEMS","selected","striped","toFixed","ADD_ITEM","allowDecimals","decimalsLimit","prefix","SplitReceipt","show","setShow","handleClose","Modal","onHide","size","Header","closeButton","Title","Text","ListGroup","item","splitCost","ListGroupItem","Footer","remaining","getRemaining","ReceiptContributorModal","handleContributor","setMode","ADD_CONTRIBUTOR","headerAttrs","Row","Col","DELETE_CONTRIBUTOR","LoginHooks","onSuccess","signIn","useGoogleLogin","onFailure","res","console","log","clientId","process","isSignedIn","accessType","src","alt","LogoutHooks","setSignedIn","signOut","useGoogleLogout","onLogoutSuccess","window","location","reload","ReceiptSelect","receipts","signedIn","onSave","onDelete","options","setOptions","receipt","label","getOptions","selection","SET_ITEMS","reducer","action","UUID","concat","App","googleId","setGoogleId","receiptId","setReceiptId","useReducer","setReceipts","owner","a","response","fetch","headers","json","method","body","JSON","stringify","getAllReceipts","refreshTiming","tokenObj","expires_in","refreshToken","reloadAuthResponse","newAuthRes","localStorage","setItem","id_token","setTimeout","refreshTokenSetup","status","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b4c8a14a.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function TopPage() {\n  return (\n    <div>\n      <h1 className=\"text-center\">Split</h1>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Form } from \"react-bootstrap\";\n\nexport default function ReceiptName({ name, setName }) {\n  return (\n    <>\n      {/* Receipt Name */}\n      <Form.Group controlId=\"receiptName\">\n        <Form.Control\n          value={name}\n          type=\"text\"\n          onChange={(event) => setName(event.target.value)}\n          placeholder=\"Receipt Name\"\n        />\n      </Form.Group>\n    </>\n  );\n}\n","import { React, useState, useRef } from \"react\";\nimport { Form, Button, Card } from \"react-bootstrap\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { v4 as UUID } from \"uuid\";\nimport { ACTIONS } from \"../App\";\n\nexport default function ReceiptContributors({\n  contributors,\n  setContributors,\n  dispatch,\n}) {\n  const columns = [\n    {\n      dataField: \"_id\",\n      hidden: true,\n    },\n    {\n      dataField: \"name\",\n      text: \"Contributors List\",\n      // sort: true,\n    },\n  ];\n\n  const [contributor, setContributor] = useState(\"\");\n  const inputContributorRef = useRef();\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    // check to see if contributor already exists\n    var hasElement = false;\n    contributors.map((c) => {\n      if (c.name === contributor) {\n        hasElement = true;\n      }\n    });\n\n    // Add to the start of contributors\n    if (!hasElement) {\n      setContributors(\n        (prevContributors) =>\n          (prevContributors = [{ name: contributor }, ...prevContributors])\n      );\n    } else {\n      alert(\"Contributor already exists\");\n    }\n\n    setContributor(\"\");\n    inputContributorRef.current.focus();\n  }\n\n  // Click to delete Contributor\n  const rowEvents = {\n    // make sure to remove contributor from items\n    onClick: (e, row, rowIndex) => {\n      setContributors((prevContributor) =>\n        prevContributor.filter((p) => p.name !== row.name)\n      );\n      dispatch({\n        type: ACTIONS.REMOVE_CONTRIBUTOR,\n        payload: { contributor: row },\n      });\n    },\n  };\n\n  return (\n    <>\n      {/* Receipt Contributor */}\n      <Form.Group>\n        <Card>\n          <Card.Body>\n            <Form onSubmit={handleSubmit}>\n              <Form.Group controlId=\"receiptContributor\">\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Contributor\"\n                  value={contributor}\n                  ref={inputContributorRef}\n                  onChange={(e) => setContributor(e.target.value)}\n                />\n              </Form.Group>\n              <Form.Group controlId=\"receiptAddContributor\">\n                {/* Contributor Add */}\n                <Button type=\"submit\" variant=\"dark\" className=\"form-control\">\n                  Add\n                </Button>\n              </Form.Group>\n            </Form>\n          </Card.Body>\n        </Card>\n      </Form.Group>\n\n      {/* Contributors  */}\n      <BootstrapTable\n        keyField=\"_id\"\n        data={contributors}\n        columns={columns}\n        rowEvents={rowEvents}\n        hover\n        condensed\n      />\n    </>\n  );\n}\n","import { React, useState, useRef, useEffect } from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { Card, Form, Button } from \"react-bootstrap\";\nimport CurrencyInput from \"react-currency-input-field\";\nimport { ACTIONS } from \"../App.js\";\n\nexport default function ReceiptTable({ items, dispatch }) {\n  // Datafeilds for the receipt table\n  const columns = [\n    {\n      dataField: \"_id\",\n      hidden: true,\n    },\n    {\n      dataField: \"name\",\n      text: \"Name\",\n      // sort: true,\n    },\n    {\n      dataField: \"cost\",\n      text: \"Cost\",\n      // sort: true,\n      formatter: (cell, row) => {\n        return <>${cell}</>;\n      },\n    },\n    {\n      dataField: \"selected\",\n      text: \"Selected\",\n      hidden: true,\n    },\n    {\n      dataField: \"contributors\",\n      text: \"Contributors \",\n      formatter: contributorsFormatter,\n    },\n  ];\n\n  // Formatter for the contributors column\n  function contributorsFormatter(col, colIndex) {\n    var string = col.map((contrib, i) => {\n      if (i < col.length - 1) {\n        return contrib.name + \", \";\n      } else {\n        return contrib.name;\n      }\n    });\n\n    return string;\n  }\n\n  const [name, setName] = useState(\"\");\n  const [cost, setCost] = useState(\"\");\n  const [total, setTotal] = useState(\"\");\n\n  const inputNameRef = useRef();\n\n  // Click to delete item\n  const rowEvents = {\n    onClick: (e, row, rowIndex) => {\n      dispatch({ type: ACTIONS.DELETE_ITEM, payload: { id: row._id } });\n    },\n  };\n\n  // Submit form action\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    // Add to the start of items\n    dispatch({\n      type: ACTIONS.ADD_ITEM,\n      payload: {\n        name: name,\n        cost: cost,\n      },\n    });\n    // Reset fields and focus item name\n    setName(\"\");\n    inputNameRef.current.focus();\n    setCost(\"\");\n  }\n\n  useEffect(() => {\n    // Computes the total cost, ugly but works for now.\n    var total = 0;\n    items.forEach((element) => {\n      total = total + (parseFloat(element.cost) || 0);\n    });\n    setTotal(total);\n  }, [items]);\n\n  // React bootstrap table select row feature\n  const selectRow = {\n    mode: \"checkbox\",\n    onSelect: (row, isSelect, rowIndex, e) => {\n      dispatch({ type: ACTIONS.TOGGLE_ITEM, payload: { id: row._id } });\n    },\n    onSelectAll: (isSelect, rows, e) => {\n      dispatch({ type: ACTIONS.TOGGLE_ITEMS, payload: { selected: isSelect } });\n    },\n  };\n\n  return (\n    <>\n      {/* Table to display items */}\n      <BootstrapTable\n        keyField=\"_id\"\n        data={items}\n        columns={columns}\n        rowEvents={rowEvents}\n        selectRow={selectRow}\n        striped\n        hover\n        condensed\n      />\n\n      {/* Total cost of the items */}\n      <h4>Total = ${parseFloat(total).toFixed(2)}</h4>\n      <Form.Group>\n        <Card>\n          <Card.Body>\n            {/* Form to submit the items */}\n            <Form onSubmit={handleSubmit}>\n              {/* Name of the Item */}\n              <Form.Group controlId=\"itemName\">\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Item\"\n                  value={name}\n                  ref={inputNameRef}\n                  onChange={(e) => setName(e.target.value)}\n                />\n              </Form.Group>\n              {/* Cost of the item */}\n              <Form.Group controlId=\"itemCost\">\n                <CurrencyInput\n                  placeholder=\"$0.00\"\n                  allowDecimals={true}\n                  decimalsLimit={2}\n                  prefix=\"$\"\n                  className=\"form-control\"\n                  value={cost}\n                  onChange={(value) => setCost(value)}\n                />\n              </Form.Group>\n\n              {/* Button to add the item to the table */}\n              <Form.Group controlId=\"formSubmit\">\n                <Button type=\"submit\" variant=\"dark\" className=\"form-control\">\n                  Add Item\n                </Button>\n              </Form.Group>\n            </Form>\n          </Card.Body>\n        </Card>\n      </Form.Group>\n    </>\n  );\n}\n","import { React, useState } from \"react\";\nimport {\n  Button,\n  Modal,\n  Card,\n  ListGroup,\n  ListGroupItem,\n  Form,\n} from \"react-bootstrap\";\n\nexport default function SplitReceipt({ contributors, items }) {\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  function handleSplit() {\n    setShow(true);\n  }\n\n  //TODO: Fix NaN on blank cost\n  function getBill() {\n    return contributors.map((contributor) => {\n      var total = 0;\n      return (\n        <Form.Group>\n          <Card>\n            <Card.Body>\n              <Card.Title>{contributor.name}</Card.Title>\n              <Card.Text>\n                <ListGroup>\n                  {items.map((item) => {\n                    var hasElement = false;\n                    item.contributors.map((c) => {\n                      if (c.name === contributor.name) {\n                        hasElement = true;\n                      }\n                    });\n                    if (hasElement) {\n                      var splitCost =\n                        parseFloat(item.cost) / item.contributors.length;\n                      total = total + splitCost;\n                      return (\n                        <ListGroupItem key={item._id}>\n                          {item.name}: ${splitCost.toFixed(2)}\n                        </ListGroupItem>\n                      );\n                    }\n                  })}\n                </ListGroup>\n              </Card.Text>\n            </Card.Body>\n            <Card.Footer>${total.toFixed(2)}</Card.Footer>\n          </Card>\n        </Form.Group>\n      );\n    });\n  }\n\n  function getRemaining() {\n    var remaining = 0;\n    return (\n      <Card>\n        <Card.Body>\n          <Card.Title>Remaining</Card.Title>\n          <Card.Text>\n            <ListGroup>\n              {items.map((item) => {\n                if (item.contributors.length === 0) {\n                  remaining = remaining + parseFloat(item.cost);\n                  return (\n                    <ListGroupItem key={item._id}>\n                      {item.name}: ${item.cost}\n                    </ListGroupItem>\n                  );\n                }\n              })}\n            </ListGroup>\n          </Card.Text>\n        </Card.Body>\n        <Card.Footer>${remaining.toFixed(2)}</Card.Footer>\n      </Card>\n    );\n  }\n\n  //TODO Remaining Cost\n\n  return (\n    <>\n      <Form.Group>\n        {/* Split Receipt Button */}\n        <Button\n          variant=\"secondary\"\n          onClick={() => handleSplit()}\n          className=\"form-control\"\n        >\n          Split\n        </Button>\n      </Form.Group>\n\n      {/* Modal Pop-up window */}\n      <Modal show={show} onHide={handleClose} size=\"lg\">\n        <Modal.Header closeButton>\n          <Modal.Title>Split Bill </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {getBill()}\n          {getRemaining()}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Done\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n","import { React, useState } from \"react\";\nimport { Form, Button, Modal, Col } from \"react-bootstrap\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { ACTIONS } from \"../App\";\n\nexport default function ReceiptContributorModal({ contributors, dispatch }) {\n  const columns = [\n    {\n      dataField: \"_id\",\n      hidden: true,\n    },\n    {\n      dataField: \"name\",\n      text: \"Name\",\n      headerAttrs: {\n        hidden: true,\n      },\n    },\n  ];\n\n  function handleContributor(mode) {\n    setMode(mode);\n    setShow(true);\n  }\n\n  const [show, setShow] = useState(false);\n  const [mode, setMode] = useState(ACTIONS.ADD_CONTRIBUTOR);\n\n  const handleClose = () => setShow(false);\n\n  const rowEvents = {\n    onClick: (e, row, rowIndex) => {\n      dispatch({\n        type: mode,\n        payload: { contributor: row },\n      });\n      handleClose();\n    },\n  };\n\n  return (\n    <>\n      {/* Modal Pop-up window */}\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Select Contributor </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <BootstrapTable\n            keyField=\"_id\"\n            data={contributors}\n            columns={columns}\n            rowEvents={rowEvents}\n            hover\n            condensed\n          />\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n      <Form>\n        <Form.Group>\n          <Form.Row>\n            <Col>\n              {/* Add contributor button */}\n              <Button\n                onClick={() => handleContributor(ACTIONS.ADD_CONTRIBUTOR)}\n                variant=\"secondary\"\n                className=\"form-control\"\n              >\n                Assign\n              </Button>\n            </Col>\n\n            <Col>\n              {/* Delete contributor button */}\n              <Button\n                onClick={() => handleContributor(ACTIONS.DELETE_CONTRIBUTOR)}\n                variant=\"danger\"\n                className=\"form-control\"\n              >\n                Remove\n              </Button>\n            </Col>\n          </Form.Row>\n        </Form.Group>\n      </Form>\n    </>\n  );\n}\n","import { Button } from \"react-bootstrap\";\nimport React from \"react\";\nimport { useGoogleLogin } from \"react-google-login\";\n\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\n\nfunction LoginHooks({ onSuccess }) {\n  const onFailure = (res) => {\n    console.log(\"Login failed: res:\", res);\n    // alert(`Failed to login.`);\n  };\n\n  const { signIn } = useGoogleLogin({\n    onSuccess,\n    onFailure,\n    clientId,\n    isSignedIn: true,\n    accessType: \"offline\",\n    // responseType: 'code',\n    // prompt: 'consent',\n  });\n\n  return (\n    <Button\n      onClick={signIn}\n      variant=\"outline-dark\"\n      size=\"sm\"\n      className=\"form-control\"\n    >\n      <img\n        src={process.env.PUBLIC_URL + \"/google.svg\"}\n        alt=\"google login\"\n        className=\"icon\"\n      ></img>\n      Sign in with Google\n    </Button>\n  );\n}\n\nexport default LoginHooks;\n","import React from \"react\";\nimport { useGoogleLogout } from \"react-google-login\";\nimport { Button } from \"react-bootstrap\";\n\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\n\nfunction LogoutHooks({ setSignedIn }) {\n  function onLogoutSuccess(res) {\n    window.location.reload(false);\n    console.log(\"Successfully logged out\");\n    setSignedIn(false);\n  }\n\n  const onFailure = () => {\n    console.log(\"Handle failure cases\");\n  };\n\n  const { signOut } = useGoogleLogout({\n    clientId,\n    onLogoutSuccess,\n    onFailure,\n  });\n\n  return (\n    <Button\n      onClick={signOut}\n      variant=\"outline-dark\"\n      size=\"sm\"\n      className=\"form-control\"\n    >\n      <img\n        src={process.env.PUBLIC_URL + \"/google.svg\"}\n        alt=\"google login\"\n        className=\"icon\"\n      ></img>\n      Sign out\n    </Button>\n  );\n}\n\nexport default LogoutHooks;\n","import { React, useEffect, useState } from \"react\";\nimport Select from \"react-select\";\nimport { Form, Col, Button } from \"react-bootstrap\";\n\nexport default function ReceiptSelect({\n  receipts,\n  signedIn,\n  onSave,\n  onDelete,\n  onSelect,\n}) {\n  const [options, setOptions] = useState([]);\n\n  useEffect(() => {\n    if (signedIn) {\n      console.log(receipts);\n      getOptions(receipts);\n    } else {\n      setOptions();\n    }\n  }, [receipts]);\n\n  function getOptions(receipts) {\n    setOptions(\n      receipts.map((receipt) => {\n        return { value: receipt._id, label: receipt.name };\n      })\n    );\n  }\n\n  return (\n    <>\n      <Form>\n        <Form.Group>\n          <Select\n            options={options}\n            onChange={(selection) => onSelect(selection)}\n            placeholder=\"Select a Receipt\"\n          />\n        </Form.Group>\n      </Form>\n\n      {/* Receipt Save & Delete */}\n      <Form.Group>\n        <Form.Row>\n          <Col>\n            {/* Add contributor button */}\n            <Button\n              type=\"submit\"\n              // onClick={() => handleContributor(ACTIONS.ADD_CONTRIBUTOR)}\n              variant=\"secondary\"\n              className=\"form-control\"\n              onClick={onSave}\n            >\n              Save\n            </Button>\n          </Col>\n\n          <Col>\n            {/* Delete contributor button */}\n            <Button\n              type=\"submit\"\n              // onClick={() => handleContributor(ACTIONS.DELETE_CONTRIBUTOR)}\n              variant=\"danger\"\n              className=\"form-control\"\n              onClick={onDelete}\n            >\n              Delete\n            </Button>\n          </Col>\n        </Form.Row>\n      </Form.Group>\n    </>\n  );\n}\n","export const refreshTokenSetup = (res) => {\n  // Timing to renew access token\n  let refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\n\n  const refreshToken = async () => {\n    const newAuthRes = await res.reloadAuthResponse();\n    refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\n    console.log(\"newAuthRes:\", newAuthRes);\n    // saveUserToken(newAuthRes.access_token);  <-- save new token\n    localStorage.setItem(\"authToken\", newAuthRes.id_token);\n\n    // Setup the other timer after the first one\n    setTimeout(refreshToken, refreshTiming);\n  };\n\n  // Setup first refresh timer\n  setTimeout(refreshToken, refreshTiming);\n};\n","import \"./App.css\";\nimport { React, useState, useReducer } from \"react\";\nimport TopPage from \"./components/TopPage\";\nimport ReceiptName from \"./components/ReceiptName\";\nimport ReceiptContributors from \"./components/ReceiptContributors\";\nimport ReceiptTable from \"./components/ReceiptTable\";\nimport SplitReceipt from \"./components/SplitReceipt\";\nimport { Card, Form } from \"react-bootstrap\";\nimport { v4 as UUID } from \"uuid\";\nimport ReceiptContributorModal from \"./components/ReceiptContributorModal\";\nimport LoginHooks from \"./components/LoginHooks\";\nimport LogoutHooks from \"./components/LogoutHooks\";\nimport ReceiptSelect from \"./components/ReceiptSelect\";\nimport { refreshTokenSetup } from \"./utils/refreshToken\";\n\nexport const ACTIONS = {\n  ADD_ITEM: \"add-item\",\n  DELETE_ITEM: \"delete-item\",\n  TOGGLE_ITEM: \"toggle-item\",\n  TOGGLE_ITEMS: \"toggle-items\",\n  ADD_CONTRIBUTOR: \"add-contributor\",\n  DELETE_CONTRIBUTOR: \"delete-contributor\",\n  REMOVE_CONTRIBUTOR: \"remove-contributor\",\n  SET_ITEMS: \"set-items\",\n};\n\nfunction reducer(items, action) {\n  switch (action.type) {\n    case ACTIONS.ADD_ITEM:\n      return [...items, newItem(action.payload.name, action.payload.cost)];\n    case ACTIONS.TOGGLE_ITEM:\n      return items.map((item) => {\n        if (item._id === action.payload.id) {\n          return { ...item, selected: !item.selected };\n        }\n        return item;\n      });\n    case ACTIONS.TOGGLE_ITEMS:\n      return items.map((item) => {\n        return { ...item, selected: action.payload.selected };\n      });\n    case ACTIONS.DELETE_ITEM:\n      return items.filter((item) => item._id !== action.payload.id);\n    case ACTIONS.ADD_CONTRIBUTOR:\n      return items.map((item) => {\n        var hasElement = false;\n        item.contributors.map((c) => {\n          if (c.name === action.payload.contributor.name) {\n            hasElement = true;\n          }\n        });\n\n        if (item.selected && !hasElement) {\n          return {\n            ...item,\n            contributors: item.contributors.concat(action.payload.contributor),\n          };\n        }\n        return item;\n      });\n    case ACTIONS.REMOVE_CONTRIBUTOR:\n      return items.map((item) => {\n        var hasElement = false;\n        item.contributors.map((c) => {\n          if (c.name === action.payload.contributor.name) {\n            hasElement = true;\n          }\n        });\n        if (hasElement) {\n          return {\n            ...item,\n            contributors: item.contributors.filter(\n              (contributor) =>\n                contributor.name !== action.payload.contributor.name\n            ),\n          };\n        }\n        return item;\n      });\n    case ACTIONS.DELETE_CONTRIBUTOR:\n      return items.map((item) => {\n        var hasElement = false;\n        item.contributors.map((c) => {\n          if (c.name === action.payload.contributor.name) {\n            hasElement = true;\n          }\n        });\n        if (item.selected && hasElement) {\n          return {\n            ...item,\n            contributors: item.contributors.filter(\n              (contributor) =>\n                contributor.name !== action.payload.contributor.name\n            ),\n          };\n        }\n        return item;\n      });\n    case ACTIONS.SET_ITEMS:\n      return action.payload.items;\n    default:\n      return items;\n  }\n}\n\nfunction newItem(name, cost) {\n  return {\n    _id: UUID(),\n    name: name,\n    cost: cost,\n    selected: false,\n    contributors: [],\n  };\n}\n\nfunction App() {\n  const [googleId, setGoogleId] = useState(\"\");\n  const [receiptId, setReceiptId] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [items, dispatch] = useReducer(reducer, []);\n  const [contributors, setContributors] = useState([]);\n\n  const [receipts, setReceipts] = useState([]);\n\n  const [signedIn, setSignedIn] = useState(false);\n\n  async function getAllReceipts(owner) {\n    const response = async () => {\n      const res = await fetch(\n        `${process.env.REACT_APP_SERVER}/receipts/${owner}`,\n        {\n          mode: \"cors\",\n          headers: { \"Access-Control-Allow-Origin\": \"*\" },\n        }\n      );\n\n      const json = await res.json();\n      setReceipts(json);\n    };\n    await response();\n  }\n\n  // On successful login\n  function onSuccess(res) {\n    setGoogleId(() => res.googleId);\n    getAllReceipts(res.googleId);\n    setSignedIn(() => true);\n    console.log(`Successfully logged in, your google id is ${res.googleId}`);\n    refreshTokenSetup(res);\n  }\n\n  // Save button clicked\n  async function onSave() {\n    // Not logged in\n    if (googleId === \"\") {\n      alert(\"Please Login\");\n      return;\n    }\n\n    let response = null;\n\n    var data = {\n      owner: googleId,\n      _id: receiptId,\n      name: name,\n      items: items,\n      contributors: contributors,\n    };\n\n    // Receipt already exists, update it\n    if (receiptId !== \"\") {\n      response = async () => {\n        const res = await fetch(\n          `${process.env.REACT_APP_SERVER}/receipts/${googleId}/${receiptId}`,\n          {\n            mode: \"cors\",\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              \"Access-Control-Allow-Origin\": \"*\",\n            },\n            body: JSON.stringify(data),\n          }\n        );\n        const json = await res.json();\n        console.log(json);\n      };\n      await response();\n    } else {\n      // Receipt doesn't exist, create a new one\n      data._id = UUID();\n      setReceiptId(data._id);\n\n      // Upload receipt\n      response = async () => {\n        const res = await fetch(`${process.env.REACT_APP_SERVER}/receipts/`, {\n          mode: \"cors\",\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Access-Control-Allow-Origin\": \"*\",\n          },\n          body: JSON.stringify(data),\n        });\n        const json = await res.json();\n        console.log(json);\n      };\n      await response();\n    }\n    window.location.reload();\n  }\n\n  async function onDelete() {\n    if (googleId === \"\") {\n      alert(\"Please Login\");\n      return;\n    }\n    if (receiptId === \"\") {\n      console.log(\"No receipt exists, reloading page\");\n    } else {\n      const response = async () => {\n        const res = await fetch(\n          `${process.env.REACT_APP_SERVER}/receipts/${googleId}/${receiptId}`,\n          {\n            mode: \"cors\",\n            method: \"DELETE\",\n            headers: { \"Access-Control-Allow-Origin\": \"*\" },\n          }\n        );\n        const json = await res.json();\n        console.log(json);\n      };\n      await response();\n    }\n    window.location.reload();\n  }\n\n  async function onSelect(selection) {\n    if (googleId === \"\") {\n      alert(\"Please Login\");\n      return;\n    }\n    setReceiptId(selection.value);\n\n    const response = async () => {\n      const res = await fetch(\n        `${process.env.REACT_APP_SERVER}/receipts/${googleId}/${selection.value}`,\n        { mode: \"cors\", headers: { \"Access-Control-Allow-Origin\": \"*\" } }\n      );\n      const json = await res.json();\n      console.log(json);\n      setName(json.name);\n      dispatch({ type: ACTIONS.SET_ITEMS, payload: { items: json.items } });\n      setContributors(json.contributors);\n    };\n    await response();\n  }\n\n  return (\n    <div className=\"App-header\">\n      <TopPage />\n      <Card className=\"col-11 mx-auto\">\n        <Card.Body>\n          <Form.Group>\n            {!signedIn && <LoginHooks onSuccess={onSuccess} />}\n            {signedIn && (\n              <LogoutHooks setSignedIn={(status) => setSignedIn(status)} />\n            )}\n          </Form.Group>\n\n          <ReceiptSelect\n            receipts={receipts}\n            signedIn={signedIn}\n            onSave={onSave}\n            onDelete={onDelete}\n            onSelect={onSelect}\n          />\n          <ReceiptName name={name} setName={(name) => setName(name)} />\n          <ReceiptContributors\n            contributors={contributors}\n            setContributors={(contributors) => setContributors(contributors)}\n            dispatch={dispatch}\n          />\n          <ReceiptContributorModal\n            contributors={contributors}\n            dispatch={dispatch}\n          />\n          <ReceiptTable items={items} dispatch={dispatch} />\n\n          <SplitReceipt contributors={contributors} items={items} />\n        </Card.Body>\n      </Card>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}